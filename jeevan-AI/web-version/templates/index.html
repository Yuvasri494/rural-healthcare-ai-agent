<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rural Healthcare AI Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 900px;
            width: 100%;
            position: relative;
            overflow: hidden;
            min-height: 600px;
        }

        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #4CAF50, #2196F3, #FF9800);
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
            font-size: 2.5em;
            font-weight: 300;
        }

        h2 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
            font-size: 1.8em;
            font-weight: 400;
        }

        .disclaimer {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
            background: #fff3cd;
            padding: 10px;
            border-radius: 10px;
            border-left: 4px solid #ff9800;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        .language-selector {
            text-align: center;
            margin-bottom: 30px;
        }

        .lang-prompt {
            font-size: 18px;
            margin-bottom: 20px;
            color: #333;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            margin: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            min-width: 150px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .main-menu {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .menu-btn {
            padding: 20px;
            font-size: 18px;
            border-radius: 15px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .input-section {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
        }

        .input-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .text-input {
            flex: 1;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
            min-width: 200px;
        }

        .text-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .voice-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .voice-btn {
            padding: 12px 20px;
            border-radius: 10px;
            font-size: 14px;
            min-width: 120px;
        }

        .voice-status {
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            font-weight: 500;
        }

        .listening {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .processing {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .results {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .symptom-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
        }

        .symptom-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .symptom-name {
            font-size: 24px;
            font-weight: 600;
            color: #333;
        }

        .confidence {
            background: #e3f2fd;
            color: #1976d2;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
        }

        .severity {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            margin: 10px 0;
        }

        .severity.H {
            background: #d4edda;
            color: #155724;
        }

        .severity.D {
            background: #fff3cd;
            color: #856404;
        }

        .severity.E {
            background: #f8d7da;
            color: #721c24;
        }

        .advice-section {
            margin: 15px 0;
            padding: 15px;
            background: #f1f3f4;
            border-radius: 10px;
        }

        .section-title {
            font-weight: 600;
            color: #444;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .symptoms-list {
            max-height: 400px;
            overflow-y: auto;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
        }

        .symptom-item {
            padding: 12px;
            margin: 8px 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 10px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .back-btn {
            background: #6c757d !important;
            margin-bottom: 20px;
        }

        .usage-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            color: #666;
            margin-top: 5px;
        }

        .general-advice {
            background: #e8f5e9;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #4CAF50;
        }

        .advice-list {
            margin: 15px 0;
            padding-left: 20px;
        }

        .advice-list li {
            margin-bottom: 10px;
            line-height: 1.5;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .input-controls {
                flex-direction: column;
            }
            
            .text-input {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Language Selection Screen -->
        <div id="language-screen" class="screen active">
            <div class="language-selector">
                <div class="lang-prompt">ЁЯМР Select language / рднрд╛рд╖рд╛ рдЪреБрдиреЗрдВ / роорпКро┤ро┐ропрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН</div>
                <button class="btn" onclick="selectLanguage('english')">1. English</button>
                <button class="btn" onclick="selectLanguage('hindi')">2. рд╣рд┐рдВрджреА</button>
                <button class="btn" onclick="selectLanguage('tamil')">3. родрооро┐ро┤рпН</button>
            </div>
        </div>

        <!-- Main Menu Screen -->
        <div id="main-screen" class="screen">
            <h1 id="main-title">ЁЯПе RURAL HEALTHCARE AI ASSISTANT ЁЯПе</h1>
            <div id="disclaimer" class="disclaimer">
                тЪая╕П DISCLAIMER: Basic guidance only. Consult doctors for serious cases.
            </div>
            
            <div class="main-menu">
                <button class="btn menu-btn" onclick="showSymptomDiagnosis()">
                    <div>
                        <div style="font-size: 24px; margin-bottom: 5px;">ЁЯй║</div>
                        <div id="menu-diagnosis">Symptom Diagnosis</div>
                    </div>
                </button>
                
                <button class="btn menu-btn" onclick="showLanguageSelector()">
                    <div>
                        <div style="font-size: 24px; margin-bottom: 5px;">ЁЯМР</div>
                        <div id="menu-language">Change Language</div>
                    </div>
                </button>
                
                <button class="btn menu-btn" onclick="showAllSymptoms()">
                    <div>
                        <div style="font-size: 24px; margin-bottom: 5px;">ЁЯУК</div>
                        <div id="menu-symptoms">View All Symptoms</div>
                    </div>
                </button>
                
                <button class="btn menu-btn" onclick="showUsageStats()">
                    <div>
                        <div style="font-size: 24px; margin-bottom: 5px;">ЁЯУИ</div>
                        <div id="menu-stats">Usage Statistics</div>
                    </div>
                </button>
            </div>
            <div style="text-align: center; margin: 20px 0;">
                <button class="btn voice-btn" id="emergencyBtnMain" onclick="emergencyAlert()">ЁЯЪи Emergency</button>
            </div>
        </div>
        
        <!-- Symptom Diagnosis Screen -->
        <div id="diagnosis-screen" class="screen">
            <button class="btn back-btn" onclick="showMainMenu()" id="back-btn">тЖР Back to Menu</button>
            <h2 id="diagnosis-title">ЁЯй║ Symptom Diagnosis</h2>
            
            <div class="input-section">
                <div id="input-prompt">ЁЯй║ Describe your symptom:</div>
                
                <div class="input-controls">
                    <input type="text" id="symptom-input" class="text-input" placeholder="Type your symptom here...">
                    <div class="voice-controls">
                        <button class="btn voice-btn" id="voice-btn" onclick="startVoiceInput()">ЁЯОд Voice</button>
                        <button class="btn voice-btn" onclick="processSymptom()" id="analyze-btn">ЁЯФН Analyze</button>
                    </div>
                </div>
                
                <div id="voice-status" class="voice-status" style="display: none;"></div>
            </div>
            
            <div id="results" class="results" style="display: none;"></div>
            <div class="voice-controls">
                <button class="btn" id="emergencyBtn" onclick="emergencyAlert()">ЁЯЪи Emergency</button>
            </div>
        </div>

        <!-- All Symptoms Screen -->
        <div id="symptoms-screen" class="screen">
            <button class="btn back-btn" onclick="showMainMenu()" id="back-btn2">тЖР Back to Menu</button>
            <h2 id="symptoms-title">ЁЯУК All Symptoms Database</h2>
            <div id="symptoms-list" class="symptoms-list">
                <div class="loading">
                    <div class="spinner"></div>
                    <div>Loading symptoms...</div>
                </div>
            </div>
        </div>

        <!-- Usage Statistics Screen -->
        <div id="stats-screen" class="screen">
            <button class="btn back-btn" onclick="showMainMenu()" id="back-btn3">тЖР Back to Menu</button>
            <h2 id="stats-title">ЁЯУИ Usage Statistics</h2>
            <div id="usage-stats" class="usage-stats">
                <div class="stat-card">
                    <div class="stat-number" id="total-queries">0</div>
                    <div class="stat-label" id="queries-label">Total Queries</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="voice-queries">0</div>
                    <div class="stat-label" id="voice-label">Voice Queries</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="successful-matches">0</div>
                    <div class="stat-label" id="matches-label">Successful Matches</div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Global variables
        let currentLanguage = 'english';
        let isListening = false;
        let recognition = null;
        let usageStats = {
            totalQueries: 0,
            voiceQueries: 0,
            successfulMatches: 0
        };

        // Save stats to memory (since localStorage not supported)
        function saveStats() {
            // Stats will persist only during this session
        }

        // Translations
        const translations = {
            'welcome_title': {
                'english': "ЁЯПе RURAL HEALTHCARE AI ASSISTANT ЁЯПе",
                'hindi': "ЁЯПе рдЧреНрд░рд╛рдореАрдг рд╕реНрд╡рд╛рд╕реНрдереНрдп рдПрдЖрдИ рд╕рд╣рд╛рдпрдХ ЁЯПе",
                'tamil': "ЁЯПе роХро┐ро░ро╛роорокрпНрокрпБро▒ роЪрпБроХро╛родро╛ро░ AI роЙродро╡ро┐ропро╛ро│ро░рпН ЁЯПе"
            },
            'disclaimer': {
                'english': "тЪая╕П DISCLAIMER: Basic guidance only. Consult doctors for serious cases.",
                'hindi': "тЪая╕П рдЕрд╕реНрд╡реАрдХрд░рдг: рдХреЗрд╡рд▓ рдмреБрдирд┐рдпрд╛рджреА рдорд╛рд░реНрдЧрджрд░реНрд╢рдиред рдЧрдВрднреАрд░ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдбреЙрдХреНрдЯрд░ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВред",
                'tamil': "тЪая╕П роорпБро▒рпИроЪрпНроЪро╛роЯрпНроЯрпБ: роЕроЯро┐рокрпНрокроЯрпИ ро╡ро┤ро┐роХро╛роЯрпНроЯрпБродро▓рпНродро╛ройрпН. роирпБрогрпБрдХрпНроХрооро╛рой ро╡ро┤роХрпНроХрпБроХро│ро┐ро▓рпН рооро░рпБродрпНродрпБро╡ро░рпИ роЕрогрпБроХро╡рпБроорпН."
            },
            'menu_diagnosis': {
                'english': "Symptom Diagnosis",
                'hindi': "рд▓рдХреНрд╖рдг рдирд┐рджрд╛рди",
                'tamil': "роЕро▒ро┐роХрпБро▒ро┐ рокро░ро┐роЪрпЛродройрпИ"
            },
            'menu_language': {
                'english': "Change Language",
                'hindi': "рднрд╛рд╖рд╛ рдмрджрд▓реЗрдВ",
                'tamil': "роорпКро┤ро┐ропрпИ рооро╛ро▒рпНро▒ро╡рпБроорпН"
            },
            'menu_symptoms': {
                'english': "View All Symptoms",
                'hindi': "рд╕рднреА рд▓рдХреНрд╖рдг рджреЗрдЦреЗрдВ",
                'tamil': "роЕройрпИродрпНродрпБ роЕро▒ро┐роХрпБро▒ро┐роХро│рпИропрпБроорпН роХро╛рогрпНроХ"
            },
            'menu_stats': {
                'english': "Usage Statistics",
                'hindi': "рдЙрдкрдпреЛрдЧ рдЖрдВрдХрдбрд╝реЗ",
                'tamil': "рокропройрпНрокро╛роЯрпНроЯрпБ рокрпБро│рпНро│ро┐ро╡ро┐ро╡ро░роЩрпНроХро│рпН"
            },
            'diagnosis_title': {
                'english': "ЁЯй║ Symptom Diagnosis",
                'hindi': "ЁЯй║ рд▓рдХреНрд╖рдг рдирд┐рджрд╛рди",
                'tamil': "ЁЯй║ роЕро▒ро┐роХрпБро▒ро┐ рокро░ро┐роЪрпЛродройрпИ"
            },
            'symptoms_title': {
                'english': "ЁЯУК All Symptoms Database",
                'hindi': "ЁЯУК рд╕рднреА рд▓рдХреНрд╖рдг рдбреЗрдЯрд╛рдмреЗрд╕",
                'tamil': "ЁЯУК роЕройрпИродрпНродрпБ роЕро▒ро┐роХрпБро▒ро┐роХро│ро┐ройрпН родро░ро╡рпБродрпНродро│роорпН"
            },
            'stats_title': {
                'english': "ЁЯУИ Usage Statistics",
                'hindi': "ЁЯУИ рдЙрдкрдпреЛрдЧ рдЖрдВрдХрдбрд╝реЗ",
                'tamil': "ЁЯУИ рокропройрпНрокро╛роЯрпНроЯрпБ рокрпБро│рпНро│ро┐ро╡ро┐ро╡ро░роЩрпНроХро│рпН"
            },
            'back_menu': {
                'english': "тЖР Back to Menu",
                'hindi': "тЖР рдореЗрдиреВ рдкрд░ рд╡рд╛рдкрд╕",
                'tamil': "тЖР роорпЖройрпБро╡ро┐ро▒рпНроХрпБродрпН родро┐ро░рпБроорпНрокрпБ"
            },
            'describe_symptom': {
                'english': "ЁЯй║ Describe your symptom:",
                'hindi': "ЁЯй║ рдЕрдкрдиреЗ рд▓рдХреНрд╖рдг рдХрд╛ рд╡рд░реНрдгрди рдХрд░реЗрдВ:",
                'tamil': "ЁЯй║ роЙроЩрпНроХро│рпН роЕро▒ро┐роХрпБро▒ро┐ропрпИ ро╡ро┐ро╡ро░ро┐роХрпНроХро╡рпБроорпН:"
            },
            'voice_input': {
                'english': "ЁЯОд Voice",
                'hindi': "ЁЯОд рдЖрд╡рд╛рдЬрд╝",
                'tamil': "ЁЯОд роХрпБро░ро▓рпН"
            },
            'analyze': {
                'english': "ЁЯФН Analyze",
                'hindi': "ЁЯФН рд╡рд┐рд╢реНрд▓реЗрд╖рдг",
                'tamil': "ЁЯФН рокроХрпБрокрпНрокро╛ропрпНро╡рпБ"
            },
            'listening': {
                'english': "ЁЯОд Listening... Speak now",
                'hindi': "ЁЯОд рд╕реБрди рд░рд╣реЗ рд╣реИрдВ... рдЕрдм рдмреЛрд▓реЗрдВ",
                'tamil': "ЁЯОд роХрпЗроЯрпНроЯрпБроХрпН роХрпКрогрпНроЯро┐ро░рпБроХрпНроХро┐ро▒родрпБ... роЗрокрпНрокрпЛродрпБ рокрпЗроЪрпБроЩрпНроХро│рпН"
            },
            'processing': {
                'english': "тП│ Processing your input...",
                'hindi': "тП│ рдЖрдкрдХреА рдмрд╛рдд рдХреЛ рд╕рдордЭ рд░рд╣реЗ рд╣реИрдВ...",
                'tamil': "тП│ роЙроЩрпНроХро│рпН роЙро│рпНро│рпАроЯрпНроЯрпИ роЪрпЖропро▓ро╛роХрпНроХрпБроХро┐ро▒родрпБ..."
            },
            'no_match': {
                'english': "I couldn't find an exact match for your symptom. Here are some general healthcare tips:",
                'hindi': "рдореБрдЭреЗ рдЖрдкрдХреЗ рд▓рдХреНрд╖рдг рдХрд╛ рд╕рдЯреАрдХ рдореЗрд▓ рдирд╣реАрдВ рдорд┐рд▓рд╛ред рдпрд╣рд╛рдВ рдХреБрдЫ рд╕рд╛рдорд╛рдиреНрдп рд╕реНрд╡рд╛рд╕реНрдереНрдп рджреЗрдЦрднрд╛рд▓ рдпреБрдХреНрддрд┐рдпрд╛рдВ рджреА рдЧрдИ рд╣реИрдВ:",
                'tamil': "роЙроЩрпНроХро│рпН роЕро▒ро┐роХрпБро▒ро┐роХрпНроХро╛рой роЪро░ро┐ропро╛рой рокрпКро░рпБродрпНродродрпНродрпИ роОройрпНройро╛ро▓рпН роХрогрпНроЯрпБрокро┐роЯро┐роХрпНроХ роорпБроЯро┐ропро╡ро┐ро▓рпНро▓рпИ. роЗроЩрпНроХрпБ роЪро┐ро▓ рокрпКродрпБ роЪрпБроХро╛родро╛ро░ роЙродро╡ро┐роХрпНроХрпБро▒ро┐рокрпНрокрпБроХро│рпН роЙро│рпНро│рой:"
            },
            'voice_error': {
                'english': "Voice not recognized. Please try again or use text input.",
                'hindi': "рдЖрд╡рд╛рдЬрд╝ рдкрд╣рдЪрд╛рдиреА рдирд╣реАрдВ рдЧрдИред рдХреГрдкрдпрд╛ рдлрд┐рд░ рд╕реЗ рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ рдпрд╛ рдЯреЗрдХреНрд╕реНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред",
                'tamil': "роХрпБро░ро▓рпН роЕро▒ро┐ропрокрпНрокроЯро╡ро┐ро▓рпНро▓рпИ. роорпАрогрпНроЯрпБроорпН роорпБропро▒рпНроЪро┐роХрпНроХро╡рпБроорпН роЕро▓рпНро▓родрпБ роЙро░рпИ роЙро│рпНро│рпАроЯрпНроЯрпИрокрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН."
            },
            'symptom_label': {
                'english': "ЁЯУЛ Symptom",
                'hindi': "ЁЯУЛ рд▓рдХреНрд╖рдг",
                'tamil': "ЁЯУЛ роЕро▒ро┐роХрпБро▒ро┐"
            },
            'confidence_label': {
                'english': "ЁЯОп Confidence",
                'hindi': "ЁЯОп рд╡рд┐рд╢реНрд╡рд╛рд╕",
                'tamil': "ЁЯОп роироорпНрокро┐роХрпНроХрпИ"
            },
            'severity_label': {
                'english': "тЪая╕П Severity",
                'hindi': "тЪая╕П рдЧрдВрднреАрд░рддрд╛",
                'tamil': "тЪая╕П родрпАро╡ро┐ро░роорпН"
            },
            'advice_label': {
                'english': "ЁЯТб Advice",
                'hindi': "ЁЯТб рд╕рд▓рд╛рд╣",
                'tamil': "ЁЯТб роЖро▓рпЛроЪройрпИ"
            },
            'first_aid_label': {
                'english': "ЁЯй╣ First Aid",
                'hindi': "ЁЯй╣ рдкреНрд░рд╛рдердорд┐рдХ рдЙрдкрдЪрд╛рд░",
                'tamil': "ЁЯй╣ роорпБродро▓рпБродро╡ро┐"
            },
            'emergency_button': {
                'english': "ЁЯЪи Emergency",
                'hindi': "ЁЯЪи рдЖрдкрд╛рддрдХрд╛рд▓реАрди",
                'tamil': "ЁЯЪи роЕро╡роЪро░роорпН"
            },
            'emergency_alert': {
                'english': "Emergency alert sent! Please wait for the ambulance and follow first aid instructions.",
                'hindi': "рдЖрдкрд╛рддрдХрд╛рд▓реАрди рд╕реВрдЪрдирд╛ рднреЗрдЬреА рдЧрдИ! рдХреГрдкрдпрд╛ рдПрдореНрдмреБрд▓реЗрдВрд╕ рдХрд╛ рдЗрдВрддрдЬрд╛рд░ рдХрд░реЗрдВ рдФрд░ рдкреНрд░рд╛рдердорд┐рдХ рдЙрдкрдЪрд╛рд░ рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВред",
                'tamil': "роЕро╡роЪро░роЪрпН роЪро┐роХрпНройро▓рпН роЕройрпБрокрпНрокрокрпНрокроЯрпНроЯродрпБ! роЕроорпНрокрпБро▓ройрпНро╕рпН ро╡ро░рпБро╡родрпИроХрпН роХро╛родрпНродро┐ро░рпБроирпНродрпБ роорпБродро▓рпБродро╡ро┐ ро╡ро┤ро┐роорпБро▒рпИроХро│рпИ рокро┐ройрпНрокро▒рпНро▒ро╡рпБроорпН."
            },
            'general_health_tips': {
                'english': [
                    "ЁЯТз Stay hydrated by drinking plenty of water throughout the day",
                    "ЁЯеЧ Eat a balanced diet with fruits and vegetables",
                    "ЁЯШ┤ Get 7-8 hours of quality sleep each night",
                    "ЁЯзШ Practice stress-reduction techniques like deep breathing",
                    "ЁЯЪ╢ Stay active with regular light exercise",
                    "ЁЯз╝ Wash hands frequently to prevent infections",
                    "ЁЯМЮ Get some sunlight exposure for vitamin D",
                    "ЁЯЪн Avoid smoking and limit alcohol consumption"
                ],
                'hindi': [
                    "ЁЯТз рджрд┐рди рднрд░ рдореЗрдВ рдЦреВрдм рдкрд╛рдиреА рдкреАрдХрд░ рд╣рд╛рдЗрдбреНрд░реЗрдЯреЗрдб рд░рд╣реЗрдВ",
                    "ЁЯеЧ рдлрд▓реЛрдВ рдФрд░ рд╕рдмреНрдЬрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рд╕рдВрддреБрд▓рд┐рдд рдЖрд╣рд╛рд░ рд▓реЗрдВ",
                    "ЁЯШ┤ рд╣рд░ рд░рд╛рдд 7-8 рдШрдВрдЯреЗ рдХреА рдЧреБрдгрд╡рддреНрддрд╛рдкреВрд░реНрдг рдиреАрдВрдж рд▓реЗрдВ",
                    "ЁЯз┤ рдЧрд╣рд░реА рд╕рд╛рдВрд╕ рд▓реЗрдиреЗ рдЬреИрд╕реА рддрдирд╛рд╡ рдХрдо рдХрд░рдиреЗ рд╡рд╛рд▓реА рддрдХрдиреАрдХреЛрдВ рдХрд╛ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ",
                    "ЁЯЪ╢ рдирд┐рдпрдорд┐рдд рд╣рд▓реНрдХреЗ рд╡реНрдпрд╛рдпрд╛рдо рд╕реЗ рд╕рдХреНрд░рд┐рдп рд░рд╣реЗрдВ",
                    "ЁЯз╝ рд╕рдВрдХреНрд░рдордг рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╛рд░-рдмрд╛рд░ рд╣рд╛рде рдзреЛрдПрдВ",
                    "ЁЯМЮ рд╡рд┐рдЯрд╛рдорд┐рди рдбреА рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдзреВрдк рд▓реЗрдВ",
                    "ЁЯЪн рдзреВрдореНрд░рдкрд╛рди рд╕реЗ рдмрдЪреЗрдВ рдФрд░ рд╢рд░рд╛рдм рдХрд╛ рд╕реЗрд╡рди рд╕реАрдорд┐рдд рдХрд░реЗрдВ"
                ],
                'tamil': [
                    "ЁЯТз роиро╛ро│рпН роорпБро┤рпБро╡родрпБроорпН роиро┐ро▒рпИроп родрогрпНрогрпАро░рпН роХрпБроЯро┐родрпНродрпБ роирпАро░рпЗро▒рпНро▒роорпН роЪрпЖропрпНропрпБроЩрпНроХро│рпН",
                    "ЁЯеЧ рокро┤роЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роХро╛ропрпНроХро▒ро┐роХро│рпБроЯройрпН роЪроороЪрпНроЪрпАро░рпН роЙрогро╡рпИ роЙрогрпНрогрпБроЩрпНроХро│рпН",
                    "ЁЯШ┤ роТро╡рпНро╡рпКро░рпБ роЗро░ро╡рпБроорпН 7-8 роорогро┐ роирпЗро░роорпН родро░рооро╛рой родрпВроХрпНроХроорпН рокрпЖро▒рпБроЩрпНроХро│рпН",
                    "ЁЯз┤ роЖро┤рпНроорпВроЪрпНроЪрпБ рокрпЛройрпНро▒ роорой роЕро┤рпБродрпНродроХрпН роХрпБро▒рпИрокрпНрокрпБ роирпБроЯрпНрокроЩрпНроХро│рпИ рокропро┐ро▒рпНроЪро┐ роЪрпЖропрпНропрпБроЩрпНроХро│рпН",
                    "ЁЯЪ╢ ро╡ро┤роХрпНроХрооро╛рой роЗро▓роХрпБро╡ро╛рой роЙроЯро▒рпНрокропро┐ро▒рпНроЪро┐ропрпБроЯройрпН роЪрпБро▒рпБроЪрпБро▒рпБрокрпНрокро╛роХ роЗро░рпБроЩрпНроХро│рпН",
                    "ЁЯз╝ родрпКро▒рпНро▒рпБроирпЛропрпНроХро│рпИродрпН родроЯрпБроХрпНроХ роЕроЯро┐роХрпНроХроЯро┐ роХрпИроХро│рпИ роХро┤рпБро╡рпБроЩрпНроХро│рпН",
                    "ЁЯМЮ ро╡рпИроЯрпНроЯрооро┐ройрпН роЯро┐-роХрпНроХрпБ роЪро┐ро▒ро┐родрпБ роЪрпВро░ро┐роп роТро│ро┐ рокрпЖро▒рпБроЩрпНроХро│рпН",
                    "ЁЯЪн рокрпБроХрпИрокрпНрокродрпИродрпН родро╡ро┐ро░рпНродрпНродрпБ роородрпБ роЕро░рпБроирпНродрпБро╡родрпИ роХроЯрпНроЯрпБрокрпНрокроЯрпБродрпНродрпБроЩрпНроХро│рпН"
                ]
            }
        };

        // Symptom database with multilingual support
        const symptoms = {
            'fever': {
                name: { english: "Fever", hindi: "рдмреБрдЦрд╛рд░", tamil: "роХро╛ропрпНроЪрпНроЪро▓рпН" },
                severity: "H",
                confidence: 85,
                advice: {
                    english: "Take rest and drink plenty of fluids. Use cold compress on forehead.",
                    hindi: "рдЖрд░рд╛рдо рдХрд░реЗрдВ рдФрд░ рдЦреВрдм рдкрд╛рдиреА рдкрд┐рдПрдВред рдорд╛рдереЗ рдкрд░ рдардВрдбреА рдкрдЯреНрдЯреА рд░рдЦреЗрдВред",
                    tamil: "роУропрпНро╡рпБ роОроЯрпБродрпНродрпБ роиро┐ро▒рпИроп роирпАро░рпН роХрпБроЯро┐роХрпНроХро╡рпБроорпН. роирпЖро▒рпНро▒ро┐ропро┐ро▓рпН роХрпБро│ро┐ро░рпНроирпНрод роТродрпНродроЯроорпН роХрпКроЯрпБроХрпНроХро╡рпБроорпН."
                },
                first_aid: {
                    english: "Rest in cool place, remove excess clothing, apply wet cloth on forehead",
                    hindi: "рдардВрдбреА рдЬрдЧрд╣ рдЖрд░рд╛рдо рдХрд░реЗрдВ, рдЕрддрд┐рд░рд┐рдХреНрдд рдХрдкрдбрд╝реЗ рдЙрддрд╛рд░реЗрдВ",
                    tamil: "роХрпБро│ро┐ро░рпНроирпНрод роЗроЯродрпНродро┐ро▓рпН роУропрпНро╡рпБ, роХрпВроЯрпБродро▓рпН роЙроЯрпИроХро│рпИ роЕроХро▒рпНро▒ро╡рпБроорпН"
                }
            },
            'common_cold': {
                name: { english: "Common Cold", hindi: "рд╕рд░реНрджреА", tamil: "роЪро│ро┐" },
                severity: "H",
                confidence: 90,
                advice: {
                    english: "Stay hydrated and rest well. Gargle with warm salt water.",
                    hindi: "рдЦреВрдм рдкрд╛рдиреА рдкрд┐рдПрдВ рдФрд░ рдЖрд░рд╛рдо рдХрд░реЗрдВред рдЧрд░реНрдо рдирдордХреАрди рдкрд╛рдиреА рд╕реЗ рдЧрд░рд╛рд░реЗ рдХрд░реЗрдВред",
                    tamil: "роирпАро░рпНроЪрпНроЪродрпНродрпБроЯройрпН роЗро░рпБроХрпНроХро╡рпБроорпН. ро╡рпЖродрпБро╡рпЖродрпБрокрпНрокро╛рой роЙрокрпНрокрпБ роирпАро░ро┐ро▓рпН роХрпКрокрпНрокро│ро┐роХрпНроХро╡рпБроорпН."
                },
                first_aid: {
                    english: "Encourage rest and fluid intake, warm salt water gargling",
                    hindi: "рдЖрд░рд╛рдо рдФрд░ рджреНрд░рд╡ рд╕реЗрд╡рди рдХреЛ рдмрдврд╝рд╛рд╡рд╛ рджреЗрдВ",
                    tamil: "роУропрпНро╡рпБ рооро▒рпНро▒рпБроорпН роирпАро░рпН роЙроЯрпНроХрпКро│рпНро│ро▓рпИ роКроХрпНроХрпБро╡ро┐роХрпНроХро╡рпБроорпН"
                }
            },
            'headache': {
                name: { english: "Headache", hindi: "рд╕рд┐рд░ рджрд░реНрдж", tamil: "родро▓рпИро╡ро▓ро┐" },
                severity: "H",
                confidence: 80,
                advice: {
                    english: "Take rest in dark quiet room. Apply cold compress.",
                    hindi: "рдЕрдВрдзреЗрд░реЗ рдФрд░ рд╢рд╛рдВрдд рдХрдорд░реЗ рдореЗрдВ рдЖрд░рд╛рдо рдХрд░реЗрдВред рдардВрдбреА рд╕рд┐рдХрд╛рдИ рдХрд░реЗрдВред",
                    tamil: "роЗро░рпБрогрпНроЯ роЕроорпИродро┐ропро╛рой роЕро▒рпИропро┐ро▓рпН роУропрпНро╡рпБ роОроЯрпБроХрпНроХро╡рпБроорпН. роХрпБро│ро┐ро░рпН роТродрпНродроЯроорпН роХрпКроЯрпБроХрпНроХро╡рпБроорпН."
                },
                first_aid: {
                    english: "Lie down in quiet dark room, apply cold compress to head",
                    hindi: "рд╢рд╛рдВрдд рдЕрдВрдзреЗрд░реЗ рдХрдорд░реЗ рдореЗрдВ рд▓реЗрдЯ рдЬрд╛рдПрдВ",
                    tamil: "роЕроорпИродро┐ропро╛рой роЗро░рпБрогрпНроЯ роЕро▒рпИропро┐ро▓рпН рокроЯрпБроХрпНроХро╡рпБроорпН"
                }
            },
            'stomach_pain': {
                name: { english: "Stomach Pain", hindi: "рдкреЗрдЯ рджрд░реНрдж", tamil: "ро╡ропро┐ро▒рпНро▒рпБро╡ро▓ро┐" },
                severity: "D",
                confidence: 75,
                advice: {
                    english: "Avoid solid food for few hours. Take small sips of water.",
                    hindi: "рдХреБрдЫ рдШрдВрдЯреЛрдВ рддрдХ рдареЛрд╕ рднреЛрдЬрди рди рд▓реЗрдВред рдереЛрдбрд╝рд╛-рдереЛрдбрд╝рд╛ рдкрд╛рдиреА рдкрд┐рдПрдВред",
                    tamil: "роЪро┐ро▓ роорогро┐ роирпЗро░роорпН родро┐роЯ роЙрогро╡рпБ родро╡ро┐ро░рпНроХрпНроХро╡рпБроорпН. роХрпКроЮрпНроЪроорпН роХрпКроЮрпНроЪрооро╛роХ родрогрпНрогрпАро░рпН роХрпБроЯро┐роХрпНроХро╡рпБроорпН."
                },
                first_aid: {
                    english: "Apply gentle heat to abdomen, avoid solid foods",
                    hindi: "рдкреЗрдЯ рдкрд░ рд╣рд▓реНрдХреА рдЧрд░реНрдорд╛рд╣рдЯ рджреЗрдВ",
                    tamil: "ро╡ропро┐ро▒рпНро▒ро┐ро▓рпН роорпЖродрпБро╡ро╛рой роЪрпВроЯрпНроЯрпИроХрпН роХрпКроЯрпБроХрпНроХро╡рпБроорпН"
                }
            },
            'diarrhea': {
                name: { english: "Diarrhea", hindi: "рджрд╕реНрдд", tamil: "ро╡ропро┐ро▒рпНро▒рпБрокрпНрокрпЛроХрпНроХрпБ" },
                severity: "D",
                confidence: 85,
                advice: {
                    english: "Drink ORS solution frequently. Eat light foods like rice.",
                    hindi: "ORS рдХрд╛ рдШреЛрд▓ рдмрд╛рд░-рдмрд╛рд░ рдкрд┐рдПрдВред рдЪрд╛рд╡рд▓ рдЬреИрд╕рд╛ рд╣рд▓реНрдХрд╛ рдЦрд╛рдирд╛ рдЦрд╛рдПрдВред",
                    tamil: "ORS роХро░рпИроЪро▓рпИ роЕроЯро┐роХрпНроХроЯро┐ роХрпБроЯро┐роХрпНроХро╡рпБроорпН. роЕро░ро┐роЪро┐ рокрпЛройрпНро▒ роОро│ро┐роп роЙрогро╡рпБ роОроЯрпБроХрпНроХро╡рпБроорпН."
                },
                first_aid: {
                    english: "Give ORS solution immediately, continue breastfeeding if infant",
                    hindi: "рддреБрд░рдВрдд ORS рдХрд╛ рдШреЛрд▓ рджреЗрдВ",
                    tamil: "роЙроЯройрпЗ ORS роХро░рпИроЪро▓рпН роХрпКроЯрпБроХрпНроХро╡рпБроорпН"
                }
            },
            'cough': {
                name: { english: "Cough", hindi: "рдЦрд╛рдВрд╕реА", tamil: "роЗро░рпБрооро▓рпН" },
                severity: "H",
                confidence: 80,
                advice: {
                    english: "Drink warm water with honey. Use steam inhalation.",
                    hindi: "рд╢рд╣рдж рдХреЗ рд╕рд╛рде рдЧрд░реНрдо рдкрд╛рдиреА рдкрд┐рдПрдВред рднрд╛рдк рд▓реЗрдВред",
                    tamil: "родрпЗройрпБроЯройрпН ро╡рпЖродрпБро╡рпЖродрпБрокрпНрокро╛рой роирпАро░рпН роХрпБроЯро┐роХрпНроХро╡рпБроорпН. роирпАро░ро╛ро╡ро┐ рокро┐роЯро┐роХрпНроХро╡рпБроорпН."
                },
                first_aid: {
                    english: "Warm honey water, steam inhalation",
                    hindi: "рдЧрд░реНрдо рд╢рд╣рдж рдкрд╛рдиреА рджреЗрдВ, рднрд╛рдк рджрд┐рд▓рд╡рд╛рдПрдВ",
                    tamil: "ро╡рпЖродрпБро╡рпЖродрпБрокрпНрокро╛рой родрпЗройрпН роирпАро░рпН, роирпАро░ро╛ро╡ро┐"
                }
            },
            'snake_bite': {
                name: { english: "Snake Bite", hindi: "рд╕рд╛рдВрдк рдХрд╛ рдХрд╛рдЯрдирд╛", tamil: "рокро╛роорпНрокрпБ роХроЯро┐родрпНродро▓рпН" },
                severity: "E",
                confidence: 95,
                advice: {
                    english: "DO NOT cut the wound. Keep patient calm. Rush to hospital.",
                    hindi: "рдШрд╛рд╡ рдХреЛ рди рдХрд╛рдЯреЗрдВред рдорд░реАрдЬрд╝ рдХреЛ рд╢рд╛рдВрдд рд░рдЦреЗрдВред рддреБрд░рдВрдд рдЕрд╕реНрдкрддрд╛рд▓ рд▓реЗ рдЬрд╛рдПрдВред",
                    tamil: "роХро╛ропродрпНродрпИ ро╡рпЖроЯрпНроЯ ро╡рпЗрогрпНроЯро╛роорпН. роирпЛропро╛ро│ро┐ропрпИ роЕроорпИродро┐ропро╛роХ ро╡рпИроХрпНроХро╡рпБроорпН. роЙроЯройрпЗ рооро░рпБродрпНродрпБро╡рооройрпИроХрпНроХрпБ роЪрпЖро▓рпНро▓ро╡рпБроорпН."
                },
                first_aid: {
                    english: "Keep victim still and calm, transport to hospital immediately",
                    hindi: "рдкреАрдбрд╝рд┐рдд рдХреЛ рд╢рд╛рдВрдд рд░рдЦреЗрдВ, рддреБрд░рдВрдд рдЕрд╕реНрдкрддрд╛рд▓ рд▓реЗ рдЬрд╛рдПрдВ",
                    tamil: "рокро╛родро┐роХрпНроХрокрпНрокроЯрпНроЯро╡ро░рпИ роЕроорпИродро┐ропро╛роХ ро╡рпИродрпНродрпБ роЙроЯройрпЗ рооро░рпБродрпНродрпБро╡рооройрпИроХрпНроХрпБ роХрпКрогрпНроЯрпБ роЪрпЖро▓рпНро▓ро╡рпБроорпН"
                }
            },
            'chest_pain': {
                name: { english: "Chest Pain", hindi: "рдЫрд╛рддреА рдореЗрдВ рджрд░реНрдж", tamil: "роирпЖроЮрпНроЪрпБ ро╡ро▓ро┐" },
                severity: "E",
                confidence: 90,
                advice: {
                    english: "Stop all activity. Sit down and rest. Call emergency.",
                    hindi: "рд╕рднреА рдЧрддрд┐рд╡рд┐рдзрд┐рдпрд╛рдВ рдмрдВрдж рдХрд░реЗрдВред рдмреИрдардХрд░ рдЖрд░рд╛рдо рдХрд░реЗрдВред рдЖрдкрд╛рддрдХрд╛рд▓ рдмреБрд▓рд╛рдПрдВред",
                    tamil: "роЕройрпИродрпНродрпБ роЪрпЖропро▓рпНрокро╛роЯрпБроХро│рпИропрпБроорпН роиро┐ро▒рпБродрпНродро╡рпБроорпН. роЙроЯрпНроХро╛ро░рпНроирпНродрпБ роУропрпНро╡рпБ роОроЯрпБроХрпНроХро╡рпБроорпН. роЕро╡роЪро░ роЪрпЗро╡рпИропрпИ роЕро┤рпИроХрпНроХро╡рпБроорпН."
                },
                first_aid: {
                    english: "Have person sit and rest, call emergency services",
                    hindi: "рд╡реНрдпрдХреНрддрд┐ рдХреЛ рдмрд┐рдард╛рдХрд░ рдЖрд░рд╛рдо рджрд┐рд▓рд╛рдПрдВ",
                    tamil: "роирокро░рпИ роЙроЯрпНроХро╛ро░ро╡рпИродрпНродрпБ роУропрпНро╡рпБ роХрпКроЯрпБроХрпНроХро╡рпБроорпН"
                }
            },
            'high_fever': {
                name: { english: "High Fever", hindi: "рддреЗрдЬ рдмреБрдЦрд╛рд░", tamil: "роЕродро┐роХ роХро╛ропрпНроЪрпНроЪро▓рпН" },
                severity: "D",
                confidence: 85,
                advice: {
                    english: "Take paracetamol. Use cold sponging. Remove excess clothing.",
                    hindi: "рдкреИрд░рд╛рд╕рд┐рдЯрд╛рдореЛрд▓ рд▓реЗрдВред рдардВрдбреЗ рдкрд╛рдиреА рд╕реЗ рд╕реНрдкрдВрдЬ рдХрд░реЗрдВред",
                    tamil: "рокро╛ро░ро╛роЪро┐роЯрпНроЯрооро╛ро▓рпН роОроЯрпБроХрпНроХро╡рпБроорпН. роХрпБро│ро┐ро░рпНроирпНрод роирпАро░ро┐ро▓рпН родрпБроЯрпИроХрпНроХро╡рпБроорпН."
                },
                first_aid: {
                    english: "Remove excess clothing, cold sponging, give paracetamol",
                    hindi: "рдЕрддрд┐рд░рд┐рдХреНрдд рдХрдкрдбрд╝реЗ рд╣рдЯрд╛рдПрдВ",
                    tamil: "роХрпВроЯрпБродро▓рпН роЙроЯрпИроХро│рпИ роЕроХро▒рпНро▒ро╡рпБроорпН"
                }
            },
            'pregnancy_care': {
                name: { english: "Pregnancy Care", hindi: "рдЧрд░реНрднрд╛рд╡рд╕реНрдерд╛ рджреЗрдЦрднрд╛рд▓", tamil: "роХро░рпНрокрпНрокроХро╛ро▓ рокро░ро╛рооро░ро┐рокрпНрокрпБ" },
                severity: "D",
                confidence: 80,
                advice: {
                    english: "Take folic acid tablets. Eat nutritious food.",
                    hindi: "рдлреЛрд▓рд┐рдХ рдПрд╕рд┐рдб рдХреА рдЧреЛрд▓реА рд▓реЗрдВред рдкреМрд╖реНрдЯрд┐рдХ рднреЛрдЬрди рдХрд░реЗрдВред",
                    tamil: "роГрокрпЛро▓ро┐роХрпН роЕрооро┐ро▓ рооро╛родрпНродро┐ро░рпИроХро│рпН роОроЯрпБроХрпНроХро╡рпБроорпН. роЪродрпНродро╛рой роЙрогро╡рпБ роЪро╛рокрпНрокро┐роЯро╡рпБроорпН."
                },
                first_aid: {
                    english: "Ensure proper nutrition, prenatal vitamins",
                    hindi: "рдЙрдЪрд┐рдд рдкреЛрд╖рдг рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ",
                    tamil: "роЪро░ро┐ропро╛рой роКроЯрпНроЯроЪрпНроЪродрпНродрпИ роЙро▒рпБродро┐ роЪрпЖропрпНропро╡рпБроорпН"
                }
            },
            'back_pain': {
                name: { english: "Back Pain", hindi: "рдХрдорд░ рджрд░реНрдж", tamil: "роорпБродрпБроХрпБро╡ро▓ро┐" },
                severity: "H",
                confidence: 75,
                advice: {
                    english: "Apply hot or cold compress. Do gentle stretching.",
                    hindi: "рдЧрд░реНрдо рдпрд╛ рдардВрдбреА рд╕рд┐рдХрд╛рдИ рдХрд░реЗрдВред рд╣рд▓реНрдХреА рд╕реНрдЯреНрд░реЗрдЪрд┐рдВрдЧ рдХрд░реЗрдВред",
                    tamil: "роЪрпВроЯро╛рой роЕро▓рпНро▓родрпБ роХрпБро│ро┐ро░рпНроирпНрод роТродрпНродроЯроорпН роХрпКроЯрпБроХрпНроХро╡рпБроорпН. роорпЖродрпБро╡ро╛рой рокропро┐ро▒рпНроЪро┐ роЪрпЖропрпНропро╡рпБроорпН."
                },
                first_aid: {
                    english: "Apply heat or ice pack, gentle movement",
                    hindi: "рдЧрд░реНрдо рдпрд╛ рдмрд░реНрдл рдХреА рдкрдЯреНрдЯреА рд▓рдЧрд╛рдПрдВ",
                    tamil: "роЪрпВроЯрпБ роЕро▓рпНро▓родрпБ рокройро┐роХрпНроХроЯрпНроЯро┐ рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН"
                }
            },
            'cut_wound': {
                name: { english: "Cut Wound", hindi: "рдХрдЯ рдШрд╛рд╡", tamil: "ро╡рпЖроЯрпНроЯрпБ роХро╛ропроорпН" },
                severity: "H",
                confidence: 85,
                advice: {
                    english: "Clean wound with water. Apply antiseptic.",
                    hindi: "рдШрд╛рд╡ рдХреЛ рдкрд╛рдиреА рд╕реЗ рд╕рд╛рдл рдХрд░реЗрдВред рдПрдВрдЯреАрд╕реЗрдкреНрдЯрд┐рдХ рд▓рдЧрд╛рдПрдВред",
                    tamil: "роХро╛ропродрпНродрпИ родрогрпНрогрпАро░ро╛ро▓рпН роЪрпБродрпНродроорпН роЪрпЖропрпНропро╡рпБроорпН. роХро┐ро░рпБрооро┐ роиро╛роЪро┐ройро┐ родроЯро╡ро╡рпБроорпН."
                },
                first_aid: {
                    english: "Clean hands first, stop bleeding, clean wound gently",
                    hindi: "рдкрд╣рд▓реЗ рд╣рд╛рде рд╕рд╛рдл рдХрд░реЗрдВ, рдЦреВрди рдмрдВрдж рдХрд░реЗрдВ",
                    tamil: "роорпБродро▓ро┐ро▓рпН роХрпИроХро│рпИроЪрпН роЪрпБродрпНродроорпН роЪрпЖропрпНропро╡рпБроорпН"
                }
            },
            'burn': {
                name: { english: "Burn", hindi: "рдЬрд▓рд╛", tamil: "родрпАроХрпНроХро╛ропроорпН" },
                severity: "D",
                confidence: 80,
                advice: {
                    english: "Cool with water for 10 minutes. Do not use ice.",
                    hindi: "10 рдорд┐рдирдЯ рддрдХ рдкрд╛рдиреА рд╕реЗ рдардВрдбрд╛ рдХрд░реЗрдВред рдмрд░реНрдл рдХрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рди рдХрд░реЗрдВред",
                    tamil: "10 роиро┐рооро┐роЯроЩрпНроХро│рпБроХрпНроХрпБ родрогрпНрогрпАро░ро╛ро▓рпН роХрпБро│ро┐ро░рпНро╡ро┐роХрпНроХро╡рпБроорпН. рокройро┐роХрпНроХроЯрпНроЯро┐ рокропройрпНрокроЯрпБродрпНрод ро╡рпЗрогрпНроЯро╛роорпН."
                },
                first_aid: {
                    english: "Run cool water over burn, cover with clean cloth",
                    hindi: "рдардВрдбрд╛ рдкрд╛рдиреА рдмрд╣рд╛рдПрдВ, рд╕рд╛рдл рдХрдкрдбрд╝реЗ рд╕реЗ рдврдХреЗрдВ",
                    tamil: "роХрпБро│ро┐ро░рпНроирпНрод роирпАро░рпН роКро▒рпНро▒ро╡рпБроорпН, роЪрпБродрпНродрооро╛рой родрпБрогро┐ропро╛ро▓рпН роорпВроЯро╡рпБроорпН"
                }
            },
            'vomiting': {
                name: { english: "Vomiting", hindi: "рдЙрд▓реНрдЯреА", tamil: "ро╡ро╛роирпНродро┐" },
                severity: "H",
                confidence: 80,
                advice: {
                    english: "Stop eating. Take small sips of water.",
                    hindi: "рдЦрд╛рдирд╛ рдмрдВрдж рдХрд░реЗрдВред рдереЛрдбрд╝рд╛-рдереЛрдбрд╝рд╛ рдкрд╛рдиреА рдкрд┐рдПрдВред",
                    tamil: "роЪро╛рокрпНрокро┐роЯрпБро╡родрпИ роиро┐ро▒рпБродрпНродро╡рпБроорпН. роХрпКроЮрпНроЪроорпН роХрпКроЮрпНроЪрооро╛роХ родрогрпНрогрпАро░рпН роХрпБроЯро┐роХрпНроХро╡рпБроорпН."
                },
                first_aid: {
                    english: "Keep hydrated with small sips, avoid solid food",
                    hindi: "рдЫреЛрдЯреА рдШреВрдВрдЯ рд╕реЗ рдкрд╛рдиреА рджреЗрдВ",
                    tamil: "роЪро┐ро▒ро┐роп роЕро│ро╡ро┐ро▓рпН родрогрпНрогрпАро░рпН роХрпКроЯрпБроХрпНроХро╡рпБроорпН"
                }
            },
            'dizziness': {
                name: { english: "Dizziness", hindi: "рдЪрдХреНрдХрд░ рдЖрдирд╛", tamil: "родро▓рпИроЪрпНроЪрпБро▒рпНро▒ро▓рпН" },
                severity: "H",
                confidence: 75,
                advice: {
                    english: "Sit down immediately. Drink water slowly.",
                    hindi: "рддреБрд░рдВрдд рдмреИрда рдЬрд╛рдПрдВред рдзреАрд░реЗ-рдзреАрд░реЗ рдкрд╛рдиреА рдкрд┐рдПрдВред",
                    tamil: "роЙроЯройрпЗ роЙроЯрпНроХро╛ро░рпНроирпНродрпБ роХрпКро│рпНро│рпБроЩрпНроХро│рпН. роорпЖродрпБро╡ро╛роХ родрогрпНрогрпАро░рпН роХрпБроЯро┐роХрпНроХро╡рпБроорпН."
                },
                first_aid: {
                    english: "Have person sit with head between knees",
                    hindi: "рдШреБрдЯрдиреЛрдВ рдХреЗ рдмреАрдЪ рд╕рд┐рд░ рд░рдЦрдХрд░ рдмрд┐рдард╛рдПрдВ",
                    tamil: "роорпБро┤роЩрпНроХро╛ро▓рпБроХрпНроХрпБ роЗроЯрпИропрпЗ родро▓рпИ ро╡рпИродрпНродрпБ роЙроЯрпНроХро╛ро░ро╡рпИроХрпНроХро╡рпБроорпН"
                }
            },
            'nausea': {
                name: { english: "Nausea", hindi: "рдЬреА рдорд┐рдЪрд▓рд╛рдирд╛", tamil: "роХрпБроороЯрпНроЯро▓рпН" },
                severity: "H",
                confidence: 75,
                advice: {
                    english: "Eat light foods. Drink ginger tea.",
                    hindi: "рд╣рд▓реНрдХрд╛ рдЦрд╛рдирд╛ рдЦрд╛рдПрдВред рдЕрджрд░рдХ рдХреА рдЪрд╛рдп рдкрд┐рдПрдВред",
                    tamil: "роОро│ро┐роп роЙрогро╡рпБ роЪро╛рокрпНрокро┐роЯро╡рпБроорпН. роЗроЮрпНроЪро┐ родрпЗроирпАро░рпН роХрпБроЯро┐роХрпНроХро╡рпБроорпН."
                },
                first_aid: {
                    english: "Give small amounts of clear fluids",
                    hindi: "рд╕рд╛рдл рддрд░рд▓ рдкрджрд╛рд░реНрде рдХреА рдЫреЛрдЯреА рдорд╛рддреНрд░рд╛ рджреЗрдВ",
                    tamil: "родрпЖро│ро┐ро╡ро╛рой родро┐ро░ро╡роЩрпНроХро│рпИ роЪро┐ро▒ро┐роп роЕро│ро╡ро┐ро▓рпН роХрпКроЯрпБроХрпНроХро╡рпБроорпН"
                }
            },
            'sprain': {
                name: { english: "Sprain", hindi: "рдореЛрдЪ", tamil: "роЪрпБро│рпБроХрпНроХрпБ" },
                severity: "H",
                confidence: 80,
                advice: {
                    english: "Rest the area and avoid strenuous activity. Apply ice for 10-15 minutes.",
                    hindi: "рдкреНрд░рднрд╛рд╡рд┐рдд рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рдЖрд░рд╛рдо рджреЗрдВ рдФрд░ рдЕрдзрд┐рдХ рдореЗрд╣рдирдд рд╕реЗ рдмрдЪреЗрдВред 10-15 рдорд┐рдирдЯ рдХреЗ рд▓рд┐рдП рдмрд░реНрдл рд▓рдЧрд╛рдПрдВред",
                    tamil: "рокро╛родро┐роХрпНроХрокрпНрокроЯрпНроЯ рокроХрпБродро┐ропрпИ роУропрпНро╡ро┐роЯрпБроЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роХроЯрпБроорпИропро╛рой роЪрпЖропро▒рпНрокро╛роЯрпБроХро│рпИродрпН родро╡ро┐ро░рпНроХрпНроХро╡рпБроорпН. 10-15 роиро┐рооро┐роЯроЩрпНроХро│рпН рокройро┐роХрпНроХроЯрпНроЯро┐ рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН."
                },
                first_aid: {
                    english: "Rest, Ice, Compression, Elevation",
                    hindi: "рдЖрд░рд╛рдо, рдмрд░реНрдл, рджрдмрд╛рд╡, рдКрдВрдЪрд╛рдИ",
                    tamil: "роУропрпНро╡рпБ, рокройро┐, роЕроорпБроХрпНроХроорпН, роЙропро░рпНродрпНродро▓рпН"
                }
            },
            'insect_bite': {
                name: { english: "Insect Bite", hindi: "рдХреАрдбрд╝реЗ рдХрд╛ рдХрд╛рдЯрдирд╛", tamil: "рокрпВроЪрпНроЪро┐ роХроЯро┐родрпНродро▓рпН" },
                severity: "H",
                confidence: 85,
                advice: {
                    english: "Clean the area with soap and water. Apply soothing lotion if itchy.",
                    hindi: "рдХреНрд╖реЗрддреНрд░ рдХреЛ рд╕рд╛рдмреБрди рдФрд░ рдкрд╛рдиреА рд╕реЗ рд╕рд╛рдл рдХрд░реЗрдВред рдЦреБрдЬрд▓реА рд╣реЛрдиреЗ рдкрд░ рдЖрд░рд╛рдо рджреЗрдиреЗ рд╡рд╛рд▓реА рд▓реЛрд╢рди рд▓рдЧрд╛рдПрдВред",
                    tamil: "рокроХрпБродро┐ропрпИ роЪрпЛрокрпНрокрпБроорпН родрогрпАро░рпБроорпН роХрпКрогрпНроЯрпБ роЪрпБродрпНродроорпН роЪрпЖропрпНропро╡рпБроорпН. родрпКроирпНродро░ро╡рпБ роЗро░рпБроирпНродро╛ро▓рпН роЪро╛роирпНродро┐ ро▓рпЛро╖ройрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН."
                },
                first_aid: {
                    english: "Wash, cold compress if swelling",
                    hindi: "рдзреЛрдПрдВ, рд╕реВрдЬрди рд╣реЛрдиреЗ рдкрд░ рдардВрдбреА рдкрдЯреНрдЯреА",
                    tamil: "роЪрпБродрпНродроорпН роЪрпЖропрпНропро╡рпБроорпН, ро╡рпАроХрпНроХроорпН роЗро░рпБроирпНродро╛ро▓рпН роХрпБро│ро┐ро░рпН роТродрпНродроЯроорпН"
                }
            },
            'nose_bleed': {
                name: { english: "Nose Bleed", hindi: "рдирдХрд╕реАрд░", tamil: "роорпВроХрпНроХро┐ро▓рпН роЗро░родрпНродроорпН" },
                severity: "H",
                confidence: 80,
                advice: {
                    english: "Sit upright and lean slightly forward. Pinch the soft part of the nose for 10 minutes.",
                    hindi: "рд╕реАрдзреЗ рдмреИрдареЗрдВ рдФрд░ рд╣рд▓реНрдХрд╛ рдЖрдЧреЗ рдЭреБрдХреЗрдВред рдирд╛рдХ рдХреЗ рдореБрд▓рд╛рдпрдо рд╣рд┐рд╕реНрд╕реЗ рдХреЛ 10 рдорд┐рдирдЯ рдХреЗ рд▓рд┐рдП рджрдмрд╛рдПрдВред",
                    tamil: "роирпЗро░ро╛роХ роЙроЯрпНроХро╛ро░рпБроЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЪро┐ро▒ро┐родрпБ роорпБройрпНройро╛ро▓рпН роЪро╛ропрпНроирпНродрпБ роХрпКро│рпНро│рпБроЩрпНроХро│рпН. роорпВроХрпНроХро┐ройрпН роорпЖройрпНроорпИропро╛рой рокроХрпБродро┐ропрпИ 10 роиро┐рооро┐роЯроЩрпНроХро│рпН роЕро┤рпБродрпНродро╡рпБроорпН."
                },
                first_aid: {
                    english: "Sit upright, pinch nose, apply cold pack",
                    hindi: "рд╕реАрдзреЗ рдмреИрдареЗрдВ, рдирд╛рдХ рджрдмрд╛рдПрдВ, рдардВрдбреА рдкрдЯреНрдЯреА рд▓рдЧрд╛рдПрдВ",
                    tamil: "роирпЗро░ро╛роХ роЙроЯрпНроХро╛ро░ро╡рпБроорпН, роорпВроХрпНроХрпИ роЕро┤рпБродрпНродро╡рпБроорпН, роХрпБро│ро┐ро░рпН роТродрпНродроЯроорпН"
                }
            },
            'eye_irritation': {
                name: { english: "Eye Irritation", hindi: "рдЖрдВрдЦреЛрдВ рдореЗрдВ рдЬрд▓рди", tamil: "роХрогрпН роОро░ро┐роЪрпНроЪро▓рпН" },
                severity: "H",
                confidence: 75,
                advice: {
                    english: "Rinse eyes with clean water. Avoid rubbing. Remove contact lenses if present.",
                    hindi: "рдЖрдВрдЦреЛрдВ рдХреЛ рд╕рд╛рдл рдкрд╛рдиреА рд╕реЗ рдзреЛрдПрдВред рд░рдЧрдбрд╝реЗрдВ рдирд╣реАрдВред рдпрджрд┐ рдХреЙрдиреНрдЯреИрдХреНрдЯ рд▓реЗрдВрд╕ рд╣реИрдВ рддреЛ рдирд┐рдХрд╛рд▓реЗрдВред",
                    tamil: "роХрогрпНроХро│рпИ роЪрпБродрпНродрооро╛рой родрогрпНрогрпАро░ро╛ро▓рпН роХро┤рпБро╡ро╡рпБроорпН. роЙрогрпНрогро╛родрпАро░рпНроХро│рпН. родрпКроЯро░рпНрокрпБ ро▓рпЖройрпНро╕рпН роЗро░рпБроирпНродро╛ро▓рпН роЕроХро▒рпНро▒ро╡рпБроорпН."
                },
                first_aid: {
                    english: "Flush eyes with water, avoid rubbing",
                    hindi: "рдкрд╛рдиреА рд╕реЗ рдзреЛрдПрдВ, рд░рдЧрдбрд╝рдиреЗ рд╕реЗ рдмрдЪреЗрдВ",
                    tamil: "родрогрпНрогрпАро░ро╛ро▓рпН роХро┤рпБро╡ро╡рпБроорпН, роЙрогрпНрогро╛родрпАро░рпНроХро│рпН"
                }
            },
            'food_poisoning': {
                name: { english: "Food Poisoning", hindi: "рдЦрд░рд╛рдм рдЦрд╛рдирд╛", tamil: "роЙрогро╡рпБ ро╡ро┐ро╖роорпН" },
                severity: "D",
                confidence: 85,
                advice: {
                    english: "Stay hydrated with ORS. Eat bland foods. Monitor for severe symptoms.",
                    hindi: "ORS рд╕реЗ рдкрд╛рдиреА рдкрд┐рдПрдВред рд╕рд╛рджрд╛ рднреЛрдЬрди рдЦрд╛рдПрдВред рдЧрдВрднреАрд░ рд▓рдХреНрд╖рдгреЛрдВ рдкрд░ рдзреНрдпрд╛рди рджреЗрдВред",
                    tamil: "ORS роорпВро▓роорпН роирпАро░рпЗро▒рпНро▒рооро╛роХ роЗро░рпБроХрпНроХро╡рпБроорпН. роОро│ро┐роп роЙрогро╡рпБ роЪро╛рокрпНрокро┐роЯро╡рпБроорпН. родрпАро╡ро┐ро░ роЕро▒ро┐роХрпБро▒ро┐роХро│рпИроХрпН роХро╡ройро┐роХрпНроХро╡рпБроорпН."
                },
                first_aid: {
                    english: "Give ORS, light meals, rest",
                    hindi: "ORS рджреЗрдВ, рд╣рд▓реНрдХрд╛ рднреЛрдЬрди, рдЖрд░рд╛рдо",
                    tamil: "ORS роХрпКроЯрпБроХрпНроХро╡рпБроорпН, роОро│ро┐роп роЙрогро╡рпБ, роУропрпНро╡рпБ"
                }
            },
            'dehydration': {
                name: { english: "Dehydration", hindi: "рдирд┐рд░реНрдЬрд▓реАрдХрд░рдг", tamil: "роирпАро░ро┐ро┤рокрпНрокрпБ" },
                severity: "D",
                confidence: 80,
                advice: {
                    english: "Drink ORS slowly. Rest in a cool place. Monitor urine output.",
                    hindi: "ORS рдзреАрд░реЗ-рдзреАрд░реЗ рдкрд┐рдПрдВред рдардВрдбреА рдЬрдЧрд╣ рдЖрд░рд╛рдо рдХрд░реЗрдВред рдкреЗрд╢рд╛рдм рдХреА рдорд╛рддреНрд░рд╛ рджреЗрдЦреЗрдВред",
                    tamil: "ORS роорпЖродрпБро╡ро╛роХ роХрпБроЯро┐роХрпНроХро╡рпБроорпН. роХрпБро│ро┐ро░рпНроирпНрод роЗроЯродрпНродро┐ро▓рпН роУропрпНро╡рпБ роОроЯрпБроХрпНроХро╡рпБроорпН. роЪро┐ро▒рпБроирпАро░рпН роЕро│ро╡рпИроХрпН роХрогрпНроХро╛рогро┐роХрпНроХро╡рпБроорпН."
                },
                first_aid: {
                    english: "Give ORS, keep cool, monitor hydration",
                    hindi: "ORS рджреЗрдВ, рдардВрдбреЗ рд░рд╣реЗрдВ, рдирд┐рдЧрд░рд╛рдиреА рдХрд░реЗрдВ",
                    tamil: "ORS роХрпКроЯрпБроХрпНроХро╡рпБроорпН, роХрпБро│ро┐ро░рпНроЪрпНроЪро┐ропро╛рой роЗроЯродрпНродро┐ро▓рпН роЗро░рпБроЩрпНроХро│рпН, роирпАро░рпН рокро░ро╛рооро░ро┐рокрпНрокрпБ"
                }
            },
            'allergic_reaction': {
                name: { english: "Allergic Reaction", hindi: "рдПрд▓рд░реНрдЬреА", tamil: "роТро╡рпНро╡ро╛роорпИ" },
                severity: "D",
                confidence: 75,
                advice: {
                    english: "Identify and remove allergen. Take antihistamine if available.",
                    hindi: "рдПрд▓рд░реНрдЬреА рдХрд╛ рдХрд╛рд░рдг рдкрд╣рдЪрд╛рдиреЗрдВ рдФрд░ рд╣рдЯрд╛рдПрдВред рдЙрдкрд▓рдмреНрдз рд╣реЛ рддреЛ рдПрдВрдЯреАрд╣рд┐рд╕реНрдЯрд╛рдорд╛рдЗрди рд▓реЗрдВред",
                    tamil: "роТро╡рпНро╡ро╛роорпИ роХро╛ро░рогродрпНродрпИ роХрогрпНроЯро▒ро┐роирпНродрпБ роЕроХро▒рпНро▒ро╡рпБроорпН. роЗро░рпБроирпНродро╛ро▓рпН роЖройрпНроЯро┐ро╣ро┐ро╕рпНроЯроорпИройрпН роОроЯрпБродрпНродрпБроХрпНроХрпКро│рпНро│ро╡рпБроорпН."
                },
                first_aid: {
                    english: "Remove allergen, antihistamine if needed",
                    hindi: "рдПрд▓рд░реНрдЬреЗрди рд╣рдЯрд╛рдПрдВ, рдПрдВрдЯреАрд╣рд┐рд╕реНрдЯрд╛рдорд╛рдЗрди рд▓реЗрдВ",
                    tamil: "роТро╡рпНро╡ро╛роорпИропрпИ роЕроХро▒рпНро▒ро╡рпБроорпН, родрпЗро╡рпИропрпЖройро┐ро▓рпН роЖройрпНроЯро┐ро╣ро┐ро╕рпНроЯроорпИройрпН"
                }
            },
            'heat_stroke': {
                name: { english: "Heat Stroke", hindi: "рдЧрд░реНрдореА рд▓рдЧрдирд╛", tamil: "ро╡рпЖрокрпНрок рокроХрпНроХро╡ро╛родроорпН" },
                severity: "E",
                confidence: 90,
                advice: {
                    english: "Move to cool place. Remove excess clothing. Rehydrate. Call emergency if severe.",
                    hindi: "рдардВрдбреА рдЬрдЧрд╣ рд▓реЗ рдЬрд╛рдПрдВред рдЕрддрд┐рд░рд┐рдХреНрдд рдХрдкрдбрд╝реЗ рдЙрддрд╛рд░реЗрдВред рдкрд╛рдиреА рдкрд┐рдПрдВред рдЧрдВрднреАрд░ рд╣реЛрдиреЗ рдкрд░ рдЖрдкрд╛рддрдХрд╛рд▓ рдмреБрд▓рд╛рдПрдВред",
                    tamil: "роХрпБро│ро┐ро░рпНроирпНрод роЗроЯродрпНродро┐ро▒рпНроХрпБ роироХро░рпНродрпНродро╡рпБроорпН. роХрпВроЯрпБродро▓рпН роЙроЯрпИроХро│рпН роЕроХро▒рпНро▒ро╡рпБроорпН. роирпАро░рпН роХрпБроЯро┐роХрпНроХро╡рпБроорпН. родрпАро╡ро┐ро░рооро╛ройро╛ро▓рпН роЕро╡роЪро░ роЪрпЗро╡рпИ роЕро┤рпИроХрпНроХро╡рпБроорпН."
                },
                first_aid: {
                    english: "Cool environment, remove clothing, hydrate",
                    hindi: "рдардВрдбрд╛ рд╕реНрдерд╛рди, рдХрдкрдбрд╝реЗ рд╣рдЯрд╛рдПрдВ, рдкрд╛рдиреА рдкрд┐рдПрдВ",
                    tamil: "роХрпБро│ро┐ро░рпН роЗроЯроорпН, роЙроЯрпИроХро│рпН роЕроХро▒рпНро▒рпБ, роирпАро░рпН роХрпБроЯро┐"
                }
            }
        };

        // Get translated text
        function getText(key) {
            return translations[key] && translations[key][currentLanguage] || key;
        }

        // Update UI language
        function updateLanguage() {
            document.getElementById('main-title').textContent = getText('welcome_title');
            document.getElementById('disclaimer').textContent = getText('disclaimer');
            document.getElementById('menu-diagnosis').textContent = getText('menu_diagnosis');
            document.getElementById('menu-language').textContent = getText('menu_language');
            document.getElementById('menu-symptoms').textContent = getText('menu_symptoms');
            document.getElementById('menu-stats').textContent = getText('menu_stats');
            document.getElementById('diagnosis-title').textContent = getText('diagnosis_title');
            document.getElementById('symptoms-title').textContent = getText('symptoms_title');
            document.getElementById('stats-title').textContent = getText('stats_title');
            document.getElementById('back-btn').textContent = getText('back_menu');
            document.getElementById('back-btn2').textContent = getText('back_menu');
            document.getElementById('back-btn3').textContent = getText('back_menu');
            document.getElementById('input-prompt').textContent = getText('describe_symptom');
            document.getElementById('voice-btn').innerHTML = getText('voice_input');
            document.getElementById('analyze-btn').textContent =  getText('analyze');
            updateEmergencyButtonLabel();
            
            // Update placeholder text
            document.getElementById('symptom-input').placeholder = 
                currentLanguage === 'english' ? 'Type your symptom here...' :
                currentLanguage === 'hindi' ? 'рдЕрдкрдирд╛ рд▓рдХреНрд╖рдг рдпрд╣рд╛рдБ рдЯрд╛рдЗрдк рдХрд░реЗрдВ...' :
                'роЙроЩрпНроХро│рпН роЕро▒ро┐роХрпБро▒ро┐ропрпИ роЗроЩрпНроХрпЗ родроЯрпНроЯроЪрпНроЪрпБ роЪрпЖропрпНроХ...';
        }

        // Enhanced speech recognition with better language support
        function initSpeechRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
                recognition.continuous = false;
                recognition.interimResults = true;
                recognition.maxAlternatives = 5;
                
                // Set language based on current selection
                const langMapping = {
                    'english': 'en-IN',
                    'hindi': 'hi-IN',
                    'tamil': 'ta-IN'
                };
                recognition.lang = langMapping[currentLanguage];
                
                recognition.onstart = function() {
                    isListening = true;
                    showVoiceStatus(getText('listening'), 'listening');
                    document.getElementById('voice-btn').innerHTML = 'ЁЯЫС ' + (currentLanguage === 'english' ? 'Stop' : currentLanguage === 'hindi' ? 'рд░реЛрдХреЗрдВ' : 'роиро┐ро▒рпБродрпНродрпБ');
                };
                
                recognition.onresult = function(event) {
                    let finalTranscript = '';
                    let interimTranscript = '';
                    
                    for (let i = event.resultIndex; i < event.results.length; i++) {
                        const transcript = event.results[i][0].transcript;
                        if (event.results[i].isFinal) {
                            finalTranscript += transcript;
                        } else {
                            interimTranscript += transcript;
                        }
                    }
                    
                    if (finalTranscript) {
                        document.getElementById('symptom-input').value = finalTranscript.trim();
                        
                        const confidenceText = {
                            'english': `Voice recognized: "${finalTranscript.trim()}"`,
                            'hindi': `рдЖрд╡рд╛рдЬрд╝ рдкрд╣рдЪрд╛рдиреА рдЧрдИ: "${finalTranscript.trim()}"`,
                            'tamil': `роХрпБро░ро▓рпН роЕроЩрпНроХрпАроХро░ро┐роХрпНроХрокрпНрокроЯрпНроЯродрпБ: "${finalTranscript.trim()}"`
                        }[currentLanguage];
                        
                        showVoiceStatus(confidenceText, 'listening');
                        
                        usageStats.voiceQueries++;
                        saveStats();
                        
                        setTimeout(() => {
                            hideVoiceStatus();
                            processSymptom();
                        }, 1500);
                    } else if (interimTranscript) {
                        document.getElementById('symptom-input').value = interimTranscript.trim();
                    }
                };
                
                recognition.onerror = function(event) {
                    console.log('Speech recognition error:', event.error);
                    let errorMessage = getText('voice_error');
                    showVoiceStatus(errorMessage, 'error');
                    setTimeout(hideVoiceStatus, 4000);
                };
                
                recognition.onend = function() {
                    isListening = false;
                    document.getElementById('voice-btn').innerHTML = getText('voice_input');
                };
            }
        }

        // Function to clear diagnosis screen
        function clearDiagnosisScreen() {
            document.getElementById('symptom-input').value = '';
            document.getElementById('results').style.display = 'none';
            document.getElementById('results').innerHTML = '';
            hideVoiceStatus();
        }

        // Language selection with voice recognition initialization
        function selectLanguage(lang) {
            currentLanguage = lang;
            updateLanguage();
            
            // Clear any existing diagnosis data
            clearDiagnosisScreen();
            
            showMainMenu();
            
            // Reinitialize speech recognition with new language
            initSpeechRecognition();
            
            // Welcome message in selected language
            const welcomeMessage = getText('welcome_title').replace(/[ЁЯПе]/g, '');
            speakText(welcomeMessage);
        }

        // Enhanced text-to-speech
        function speakText(text) {
            if ('speechSynthesis' in window) {
                speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                const langMapping = {
                    'english': 'en-IN',
                    'hindi': 'hi-IN', 
                    'tamil': 'ta-IN'
                };
                
                utterance.lang = langMapping[currentLanguage] || 'en-IN';
                utterance.rate = 0.9;
                utterance.pitch = 1.0;
                utterance.volume = 0.8;
                
                const voices = speechSynthesis.getVoices();
                const preferredVoice = voices.find(voice => 
                    voice.lang.startsWith(utterance.lang.split('-')[0])
                );
                
                if (preferredVoice) {
                    utterance.voice = preferredVoice;
                }
                
                speechSynthesis.speak(utterance);
            }
        }

        // Show/hide screens
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }

        function showLanguageSelector() {
            // Clear diagnosis data when going to language selector
            clearDiagnosisScreen();
            
            showScreen('language-screen');
        }

        function showMainMenu() {
            showScreen('main-screen');
            updateStats();
        }

        function showSymptomDiagnosis() {
            // Clear previous results when entering diagnosis screen
            clearDiagnosisScreen();
            
            showScreen('diagnosis-screen');
            document.getElementById('symptom-input').focus();
        }

        function showAllSymptoms() {
            showScreen('symptoms-screen');
            loadAllSymptoms();
        }

        function showUsageStats() {
            showScreen('stats-screen');
            updateStatsDisplay();
        }

        // Enhanced voice input with better language detection
        function startVoiceInput() {
            if (!recognition) {
                const alertText = {
                    'english': 'Speech recognition not supported. Please use Chrome browser.',
                    'hindi': 'рд╡реЙрдЗрд╕ рдкрд╣рдЪрд╛рди рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИред рдХреГрдкрдпрд╛ рдХреНрд░реЛрдо рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред',
                    'tamil': 'рокрпЗроЪрпНроЪрпБ роЕроЩрпНроХрпАроХро╛ро░роорпН роЖродро░ро┐роХрпНроХрокрпНрокроЯро╡ро┐ро▓рпНро▓рпИ. роХро┐ро░рпЛроорпН роЙро▓ро╛ро╡ро┐ропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН.'
                }[currentLanguage];
                alert(alertText);
                return;
            }
            
            if (isListening) {
                recognition.stop();
                return;
            }
            
            // Update language before starting
            const langMapping = {
                'english': 'en-IN',
                'hindi': 'hi-IN',
                'tamil': 'ta-IN'
            };
            recognition.lang = langMapping[currentLanguage];
            
            try {
                recognition.start();
            } catch (error) {
                console.error('Voice recognition start error:', error);
                showVoiceStatus('Could not start voice recognition. Try again.', 'error');
                setTimeout(hideVoiceStatus, 3000);
            }
        }

        // Show voice status
        function showVoiceStatus(message, className) {
            const statusDiv = document.getElementById('voice-status');
            statusDiv.textContent = message;
            statusDiv.className = 'voice-status ' + className;
            statusDiv.style.display = 'block';
        }

        function hideVoiceStatus() {
            document.getElementById('voice-status').style.display = 'none';
        }

        // Process symptom input
        function processSymptom() {
            const symptomInput = document.getElementById('symptom-input').value.trim();
            if (!symptomInput) {
                alert('Please enter a symptom or use voice input');
                return;
            }

            usageStats.totalQueries++;
            saveStats();

            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <div>${getText('processing')}</div>
                </div>
            `;
            resultsDiv.style.display = 'block';

            // Try to connect to backend first
            fetch("https://jeevan-ai-7axw.onrender.com/predict", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    symptom: symptomInput,
                    language: currentLanguage
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success && data.result) {
                    displayResult(data.result);
                    usageStats.successfulMatches++;
                } else {
                    simulateDiagnosis(symptomInput);
                }
                saveStats();
            })
            .catch(error => {
                console.log('Backend not available, using simulation');
                simulateDiagnosis(symptomInput);
            });
        }

        // Enhanced simulation with better symptom matching for all symptoms
        function simulateDiagnosis(symptomInput) {
            const input = symptomInput.toLowerCase().trim();
            let matchedSymptom = null;
            
            // Create comprehensive matching patterns for all symptoms
            const symptomPatterns = {
                'fever': ['fever', 'fevar', 'fiver', 'temperature', 'temp', 'hot', 'рдмреБрдЦрд╛рд░', 'рддрд╛рдкрдорд╛рди', 'рдЧрд░реНрдореА', 'рдХрд╛рдпреНрдЪрд▓', 'роХро╛ропрпНроЪрпНроЪро▓рпН', 'ро╡рпЖрокрпНрокроорпН', 'роЪрпВроЯрпБ'],
                'common_cold': ['cold', 'common cold', 'flu', 'рд╕рд░реНрджреА', 'рдЬреБрдХрд╛рдо', 'рдлреНрд▓реВ', 'роЪро│ро┐', 'родроЯро┐рооройрпН', 'роХро╛ропрпНроЪрпНроЪро▓рпН'],
                'headache': ['headache', 'head', 'ache', 'migraine', 'рд╕рд┐рд░рджрд░реНрдж', 'рд╕рд┐рд░', 'рдорд╛рдЗрдЧреНрд░реЗрди', 'рддрд▓реИрд╡рд▓реА', 'родро▓рпИро╡ро▓ро┐', 'родро▓рпИ', 'роорпИроХрпНро░рпЗройрпН'],
                'stomach_pain': ['stomach', 'stomach pain', 'abdominal', 'belly', 'рдкреЗрдЯ', 'рдкреЗрдЯ рджрд░реНрдж', 'рдЙрджрд░', 'ро╡ропро┐ро▒рпБ', 'ро╡ропро┐ро▒рпНро▒рпБро╡ро▓ро┐'],
                'diarrhea': ['diarrhea', 'diarrhoea', 'loose', 'motion', 'рджрд╕реНрдд', 'рдбрд╛рдпрд░рд┐рдпрд╛', 'ро╡ропро┐ро▒рпНро▒рпБрокрпНрокрпЛроХрпНроХрпБ', 'ро╡ропро┐ро▒рпНро▒рпБроХрпН роХроЯрпБрокрпНрокрпБ'],
                'cough': ['cough', 'cof', 'kof', 'throat', 'cold', 'рдЦрд╛рдВрд╕реА', 'рдЧрд▓рд╛', 'рд╕рд░реНрджреА', 'рдЗрд░реБрдорд▓', 'роЗро░рпБрооро▓рпН', 'родрпКрогрпНроЯрпИ', 'роЪро│ро┐'],
                'snake_bite': ['snake', 'snake bite', 'serpent', 'рд╕рд╛рдВрдк', 'рд╕рд░реНрдк', 'рд╕рд╛рдВрдк рдХрд╛ рдХрд╛рдЯрдирд╛', 'рокро╛роорпНрокрпБ', 'рокро╛роорпНрокрпБ роХроЯро┐родрпНродро▓рпН'],
                'chest_pain': ['chest', 'chest pain', 'heart', 'рдЫрд╛рддреА', 'рдЫрд╛рддреА рджрд░реНрдж', 'рджрд┐рд▓', 'роирпЖроЮрпНроЪрпБ', 'роирпЖроЮрпНроЪрпБ ро╡ро▓ро┐', 'роЗродропроорпН'],
                'high_fever': ['high fever', 'high temperature', 'рддреЗрдЬ рдмреБрдЦрд╛рд░', 'рдЕрдзрд┐рдХ рддрд╛рдкрдорд╛рди', 'роЕродро┐роХ роХро╛ропрпНроЪрпНроЪро▓рпН', 'роЕродро┐роХ ро╡рпЖрокрпНрокроорпН'],
                'pregnancy_care': ['pregnancy', 'pregnant', 'рдЧрд░реНрднрд╛рд╡рд╕реНрдерд╛', 'рдЧрд░реНрднрд╡рддреА', 'роХро░рпНрокрпНрокроорпН', 'роХро░рпНрокрпНрокро┐рогро┐'],
                'back_pain': ['back', 'back pain', 'spine', 'рдХрдорд░', 'рдХрдорд░ рджрд░реНрдж', 'рд░реАрдврд╝', 'роорпБродрпБроХрпБ', 'роорпБродрпБроХрпБро╡ро▓ро┐', 'роорпБродрпБроХрпЖро▓рпБроорпНрокрпБ'],
                'cut_wound': ['cut', 'wound', 'injury', 'bleeding', 'рдХрдЯ', 'рдШрд╛рд╡', 'рдЪреЛрдЯ', 'ро╡рпЖроЯрпНроЯрпБ', 'роХро╛ропроорпН', 'роХро╛ропрокрпНрокроЯрпБродрпНродрпБродро▓рпН'],
                'burn': ['burn', 'scald', 'fire', 'рдЬрд▓рд╛', 'рдЖрдЧ', 'родрпАроХрпНроХро╛ропроорпН', 'родрпАрокрпН рокро▒рпНро▒рпБродро▓рпН'],
                'vomiting': ['vomit', 'vomiting', 'throw up', 'рдЙрд▓реНрдЯреА', 'рд╡рдорди', 'ро╡ро╛роирпНродро┐', 'ро╡ро╛роирпНродро┐ропрпЖроЯрпБродрпНродро▓рпН'],
                'dizziness': ['dizzy', 'dizziness', 'vertigo', 'рдЪрдХреНрдХрд░', 'рдЪрдХреНрдХрд░ рдЖрдирд╛', 'родро▓рпИроЪрпНроЪрпБро▒рпНро▒ро▓рпН', 'рооропроХрпНроХроорпН'],
                'nausea': ['nausea', 'nauseous', 'queasy', 'рдЬреА рдорд┐рдЪрд▓рд╛рдирд╛', 'рдорддрд▓реА', 'роХрпБроороЯрпНроЯро▓рпН', 'ро╡ро╛роирпНродро┐ роОроЯрпБроХрпНроХрпБроорпН роЙрогро░рпНро╡рпБ'],
                'sprain': ['sprain', 'twist', 'strain', 'рдореЛрдЪ', 'рдорд░реЛрдбрд╝', 'роЪрпБро│рпБроХрпНроХрпБ', 'родро┐ро░рпБроХрпБ'],
                'insect_bite': ['insect', 'bug', 'bite', 'sting', 'рдХреАрдбрд╝рд╛', 'рдХреАрдбрд╝реЗ рдХрд╛ рдХрд╛рдЯрдирд╛', 'рокрпВроЪрпНроЪро┐', 'рокрпВроЪрпНроЪро┐ роХроЯро┐родрпНродро▓рпН'],
                'nose_bleed': ['nose', 'nosebleed', 'bleeding nose', 'рдирдХрд╕реАрд░', 'рдирд╛рдХ рд╕реЗ рдЦреВрди', 'роорпВроХрпНроХрпБ', 'роорпВроХрпНроХро┐ро▓рпН роЗро░родрпНродроорпН'],
                'eye_irritation': ['eye', 'eyes', 'irritation', 'redness', 'рдЖрдВрдЦ', 'рдЖрдВрдЦреЛрдВ рдореЗрдВ рдЬрд▓рди', 'роХрогрпН', 'роХрогрпН роОро░ро┐роЪрпНроЪро▓рпН'],
                'food_poisoning': ['food poisoning', 'poison', 'contaminated', 'рдЦрд░рд╛рдм рдЦрд╛рдирд╛', 'рд╡рд┐рд╖рд╛рдХреНрдд рднреЛрдЬрди', 'роЙрогро╡рпБ ро╡ро┐ро╖роорпН', 'ро╡ро┐ро╖ роЙрогро╡рпБ'],
                'dehydration': ['dehydration', 'dehydrated', 'thirst', 'рдирд┐рд░реНрдЬрд▓реАрдХрд░рдг', 'рдкреНрдпрд╛рд╕', 'роирпАро░ро┐ро┤рокрпНрокрпБ', 'родро╛роХроорпН'],
                'allergic_reaction': ['allergy', 'allergic', 'reaction', 'рдПрд▓рд░реНрдЬреА', 'рдПрд▓рд░реНрдЬреА рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛', 'роТро╡рпНро╡ро╛роорпИ', 'роТро╡рпНро╡ро╛роорпИ роОродро┐ро░рпНро╡ро┐ройрпИ'],
                'heat_stroke': ['heat stroke', 'heat exhaustion', 'sun stroke', 'рдЧрд░реНрдореА рд▓рдЧрдирд╛', 'рд▓реВ рд▓рдЧрдирд╛', 'ро╡рпЖрокрпНрок рокроХрпНроХро╡ро╛родроорпН', 'роЪрпВро░ро┐роп роЕроЯро┐']
            };
            
            // Check each symptom pattern
            for (const [symptomKey, patterns] of Object.entries(symptomPatterns)) {
                if (patterns.some(pattern => input.includes(pattern))) {
                    matchedSymptom = symptoms[symptomKey];
                    break;
                }
            }
            
            if (matchedSymptom) {
                displayResult(matchedSymptom);
                usageStats.successfulMatches++;
                saveStats();
            } else {
                displayGeneralHealthTips();
            }
        }

        // Display symptom result with enhanced language support
        function displayResult(data) {
            const resultsDiv = document.getElementById('results');
            
            const severityClass = data.severity;
            const severityText = {
                'H': {'english': 'ЁЯПа HOME CARE', 'hindi': 'ЁЯПа рдШрд░реЗрд▓реВ рджреЗрдЦрднрд╛рд▓', 'tamil': 'ЁЯПа ро╡рпАроЯрпНроЯро┐ро▓рпН рокро░ро╛рооро░ро┐рокрпНрокрпБ'},
                'D': {'english': 'ЁЯСитАНтЪХя╕П DOCTOR VISIT', 'hindi': 'ЁЯСитАНтЪХя╕П рдбреЙрдХреНрдЯрд░ рдХреЛ рджрд┐рдЦрд╛рдПрдБ', 'tamil': 'ЁЯСитАНтЪХя╕П рооро░рпБродрпНродрпБро╡ро░рпИ роЕрогрпБроХро╡рпБроорпН'},
                'E': {'english': 'ЁЯЪи EMERGENCY', 'hindi': 'ЁЯЪи рдЖрдкрд╛рддрдХрд╛рд▓', 'tamil': 'ЁЯЪи роЕро╡роЪро░роорпН'}
            }[data.severity][currentLanguage];

            const symptomName = data.name && data.name[currentLanguage] ? data.name[currentLanguage] : data.name;
            const advice = data.advice && data.advice[currentLanguage] ? data.advice[currentLanguage] : data.advice;
            const firstAid = data.first_aid && data.first_aid[currentLanguage] ? data.first_aid[currentLanguage] : data.first_aid;

            resultsDiv.innerHTML = `
                <div class="symptom-card">
                    <div class="symptom-header">
                        <div class="symptom-name">${symptomName}</div>
                        <div class="confidence">${data.confidence || 85}% ${getText('confidence_label')}</div>
                    </div>
                    
                    <div class="severity ${severityClass}">
                        ${getText('severity_label')}: ${severityText}
                    </div>
                    
                    <div class="advice-section">
                        <div class="section-title">${getText('advice_label')}</div>
                        <div>${advice}</div>
                    </div>
                    
                    <div class="advice-section">
                        <div class="section-title">${getText('first_aid_label')}</div>
                        <div>${firstAid}</div>
                    </div>
                </div>
            `;
            
            resultsDiv.style.display = 'block';
            
            // Speak out the result in user's language
            const resultText = `${symptomName}. ${severityText}. ${advice}. ${firstAid}`;
            speakText(resultText);
        }

        // Display general health tips when no specific match is found
        function displayGeneralHealthTips() {
            const resultsDiv = document.getElementById('results');
            
            // Get 4 random health tips
            const allTips = getText('general_health_tips');
            const randomTips = [...allTips].sort(() => 0.5 - Math.random()).slice(0, 4);
            
            resultsDiv.innerHTML = `
                <div class="general-advice">
                    <h3>${getText('no_match')}</h3>
                    <ul class="advice-list">
                        ${randomTips.map(tip => `<li>${tip}</li>`).join('')}
                    </ul>
                    <p style="margin-top: 15px; font-style: italic;">
                        ${currentLanguage === 'english' ? 'If symptoms persist or worsen, please consult a healthcare professional.' : 
                          currentLanguage === 'hindi' ? 'рдпрджрд┐ рд▓рдХреНрд╖рдг рдмрдиреЗ рд░рд╣рддреЗ рд╣реИрдВ рдпрд╛ рдмрд┐рдЧрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рдХреГрдкрдпрд╛ рд╕реНрд╡рд╛рд╕реНрдереНрдп рджреЗрдЦрднрд╛рд▓ рдкреЗрд╢реЗрд╡рд░ рд╕реЗ рд╕рд▓рд╛рд╣ рд▓реЗрдВред' :
                          'роЕро▒ро┐роХрпБро▒ро┐роХро│рпН родрпКроЯро░рпНроирпНродрпБ роЗро░рпБроирпНродро╛ро▓рпН роЕро▓рпНро▓родрпБ роорпЛроЪроороЯрпИроирпНродро╛ро▓рпН, родропро╡рпБроЪрпЖропрпНродрпБ роТро░рпБ роЪрпБроХро╛родро╛ро░ роиро┐рокрпБрогро░рпИроХрпН роХро▓роирпНродро╛ро▓рпЛроЪро┐роХрпНроХро╡рпБроорпН.'}
                    </p>
                </div>
            `;
            
            resultsDiv.style.display = 'block';
            
            // Speak the health tips
            const tipsText = getText('no_match') + '. ' + randomTips.join('. ');
            speakText(tipsText);
        }

        // Load all symptoms with proper language support
        function loadAllSymptoms() {
            const symptomsList = document.getElementById('symptoms-list');
            let html = '';
            
            // Convert symptoms object to array and sort by name
            const symptomsArray = Object.values(symptoms).sort((a, b) => {
                const aName = a.name[currentLanguage] || a.name.english || '';
                const bName = b.name[currentLanguage] || b.name.english || '';
                return aName.localeCompare(bName);
            });
            
            symptomsArray.forEach(symptom => {
                const symptomName = symptom.name && symptom.name[currentLanguage] ? symptom.name[currentLanguage] : symptom.name;
                const advice = symptom.advice && symptom.advice[currentLanguage] ? symptom.advice[currentLanguage] : symptom.advice;
                const severity = symptom.severity || 'H';
                
                const severityText = {
                    'H': {
                        'english': 'ЁЯПа Home Care',
                        'hindi': 'ЁЯПа рдШрд░реЗрд▓реВ рджреЗрдЦрднрд╛рд▓', 
                        'tamil': 'ЁЯПа ро╡рпАроЯрпНроЯро┐ро▓рпН рокро░ро╛рооро░ро┐рокрпНрокрпБ'
                    },
                    'D': {
                        'english': 'ЁЯСитАНтЪХя╕П Doctor Visit',
                        'hindi': 'ЁЯСитАНтЪХя╕П рдбреЙрдХреНрдЯрд░ рдХреЛ рджрд┐рдЦрд╛рдПрдБ',
                        'tamil': 'ЁЯСитАНтЪХя╕П рооро░рпБродрпНродрпБро╡ро░рпИ роЕрогрпБроХро╡рпБроорпН'
                    },
                    'E': {
                        'english': 'ЁЯЪи Emergency',
                        'hindi': 'ЁЯЪи рдЖрдкрд╛рддрдХрд╛рд▓',
                        'tamil': 'ЁЯЪи роЕро╡роЪро░роорпН'
                    }
                }[severity][currentLanguage];

                html += `
                    <div class="symptom-item">
                        <div>
                            <strong>${symptomName}</strong>
                            ${advice ? `<br><small>${advice.substring(0, 100)}${advice.length > 100 ? '...' : ''}</small>` : ''}
                        </div>
                        <div class="severity ${severity}">${severityText}</div>
                    </div>
                `;
            });

            symptomsList.innerHTML = html;
        }

        // Update statistics display
        function updateStatsDisplay() {
            document.getElementById('total-queries').textContent = usageStats.totalQueries;
            document.getElementById('voice-queries').textContent = usageStats.voiceQueries;
            document.getElementById('successful-matches').textContent = usageStats.successfulMatches;
        }

        // Update stats in main menu
        function updateStats() {
            const labels = {
                'english': {queries: 'Total Queries', voice: 'Voice Queries', matches: 'Successful Matches'},
                'hindi': {queries: 'рдХреБрд▓ рдкреНрд░рд╢реНрди', voice: 'рдЖрд╡рд╛рдЬрд╝ рдкреНрд░рд╢реНрди', matches: 'рд╕рдлрд▓ рдореИрдЪ'},
                'tamil': {queries: 'роорпКродрпНрод роХрпЗро│рпНро╡ро┐роХро│рпН', voice: 'роХрпБро░ро▓рпН роХрпЗро│рпНро╡ро┐роХро│рпН', matches: 'ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛рой рокрпКро░рпБродрпНродроЩрпНроХро│рпН'}
            };
            
            if (document.getElementById('queries-label')) {
                document.getElementById('queries-label').textContent = labels[currentLanguage].queries;
                document.getElementById('voice-label').textContent = labels[currentLanguage].voice;
                document.getElementById('matches-label').textContent = labels[currentLanguage].matches;
            }
        }

        // Emergency Alert Function
        function emergencyAlert() {
            const alertMessage = getText('emergency_alert');
            
            // Display emergency message in results div
            const resultsDiv = document.getElementById('results');
            if (resultsDiv) {
                resultsDiv.innerHTML = `
                    <div style="background: #ffebee; border: 2px solid #f44336; border-radius: 15px; padding: 25px; margin: 10px 0; text-align: center; box-shadow: 0 5px 15px rgba(244, 67, 54, 0.3);">
                        <h3 style="color: #c62828; margin-bottom: 15px; font-size: 24px;">ЁЯЪи EMERGENCY ALERT</h3>
                        <p style="color: #d32f2f; font-size: 18px; font-weight: bold; line-height: 1.4;">${alertMessage}</p>
                        <div style="margin-top: 20px; padding: 15px; background: #fff; border-radius: 10px; border-left: 5px solid #f44336;">
                            <p style="color: #666; font-size: 16px; margin: 0;">
                                ${currentLanguage === 'english' ? 'ЁЯУЮ Emergency helpline will be contacted automatically' : 
                                  currentLanguage === 'hindi' ? 'ЁЯУЮ рдЖрдкрд╛рддрдХрд╛рд▓реАрди рд╣реЗрд▓реНрдкрд▓рд╛рдЗрди рд╕реЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╕рдВрдкрд░реНрдХ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛' :
                                  'ЁЯУЮ роЕро╡роЪро░ ро╣рпЖро▓рпНрокрпНро▓рпИройрпН родро╛ройро╛роХро╡рпЗ родрпКроЯро░рпНрокрпБ роХрпКро│рпНро│рокрпНрокроЯрпБроорпН'}
                            </p>
                        </div>
                    </div>
                `;
                resultsDiv.style.display = 'block';
                resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
            
            // Text-to-Speech for emergency alert
            speakEmergencyAlert(alertMessage);
        }

        // Text-to-Speech for Emergency Alert
        function speakEmergencyAlert(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                
                const utterance = new SpeechSynthesisUtterance(text);
                
                const langMapping = {
                    'english': 'en-US',
                    'hindi': 'hi-IN',
                    'tamil': 'ta-IN'
                };
                
                utterance.lang = langMapping[currentLanguage] || 'en-US';
                utterance.rate = 0.8;
                utterance.pitch = 1.1;
                utterance.volume = 1.0;
                
                window.speechSynthesis.speak(utterance);
            }
        }

        // Update Emergency Button Labels
        function updateEmergencyButtonLabel() {
            const emergencyButtons = document.querySelectorAll('#emergencyBtn, #emergencyBtnMain');
            emergencyButtons.forEach(button => {
                if (button) {
                    button.innerHTML = getText('emergency_button');
                }
            });
        }

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initSpeechRecognition();
            
            if ('speechSynthesis' in window) {
                speechSynthesis.onvoiceschanged = function() {
                    // Voices loaded
                };
            }
            
            document.getElementById('symptom-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    processSymptom();
                }
            });
        });
    </script>
</body>
</html>
